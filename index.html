<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Wildfire Dashboard Minimal</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 1rem;
    background: #121212;
    color: #eee;
  }
  header {
    text-align: center;
    margin-bottom: 1rem;
    color: #ff6b35;
    font-weight: bold;
    font-size: 1.5rem;
  }
  .tabs {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }
  .tab {
    padding: 0.5rem 1rem;
    cursor: pointer;
    border-radius: 20px;
    background: #333;
    color: #aaa;
    user-select: none;
  }
  .tab.active {
    background: #ff6b35;
    color: white;
  }
  .tab-content {
    display: none;
  }
  .tab-content.active {
    display: block;
  }
  #redMap, #greenMap {
    height: 250px;
    border-radius: 8px;
    margin-top: 0.5rem;
  }
  .chart-container {
    max-width: 400px;
    margin: 0.5rem auto;
  }
  .info {
    margin: 1rem 0;
    font-size: 0.9rem;
    line-height: 1.4;
  }
  button {
    display: block;
    margin: 0.5rem auto 1rem;
    padding: 0.4rem 1rem;
    border: none;
    border-radius: 20px;
    background: #97c24f;
    color: #121212;
    font-weight: bold;
    cursor: pointer;
  }
</style>
</head>
<body>

<header>üî• Wildfire Dashboard - Northern Thailand</header>

<div class="tabs">
  <div class="tab active" data-tab="red">Red Zone</div>
  <div class="tab" data-tab="green">Green Zone</div>
</div>

<div id="red" class="tab-content active">
  <h3>Red Zone üî¥</h3>
  <div class="chart-container">
    <canvas id="tempRed"></canvas>
  </div>
  <div class="chart-container">
    <canvas id="windRed"></canvas>
  </div>
  <div id="redMap"></div>
  <div class="info">
    Mae Hong Son: 35¬∞C, Wind 10 km/h, Humidity Moderate<br/>
    Chiang Mai: 38¬∞C, Wind 15 km/h, Humidity Very High<br/>
    Lampang: 37¬∞C, Wind 12 km/h, Humidity High
  </div>
</div>

<div id="green" class="tab-content">
  <h3>Green Zone üåø</h3>
  <button id="toggleAlert">Toggle Alert</button>
  <div id="greenAlert" class="info" style="display:none; background:#2a4d14; padding:0.5rem; border-radius:6px; color:#d4f26f;">
    <p><strong>‚ö†Ô∏è Lampang</strong> - Level B risk! Monitor.</p>
    <p><strong>‚ö†Ô∏è Lamphun</strong> - Level D risk! Patrol frequently.</p>
  </div>
  <div class="chart-container">
    <canvas id="humidityGreen"></canvas>
  </div>
  <div class="chart-container">
    <canvas id="rainfallGreen"></canvas>
  </div>
  <div id="greenMap"></div>
  <div class="info">
    Humidity: 35%, Rainfall: 4 mm, Fire Risk: Level D
  </div>
</div>

<script>
  // Tabs
  document.querySelectorAll('.tab').forEach(tab => {
    tab.onclick = () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    };
  });

  // Alert toggle
  const alertBox = document.getElementById('greenAlert');
  document.getElementById('toggleAlert').onclick = () => {
    alertBox.style.display = alertBox.style.display === 'none' ? 'block' : 'none';
  };

  // Charts
  new Chart(document.getElementById('tempRed'), {
    type: 'line',
    data: {
      labels: ['Mon','Tue','Wed','Thu','Fri'],
      datasets: [{label:'Temp (¬∞C)', data:[36,37,39,40,39], borderColor:'red', fill:false}]
    }
  });

  new Chart(document.getElementById('windRed'), {
    type: 'bar',
    data: {
      labels: ['Mon','Tue','Wed','Thu','Fri'],
      datasets: [{label:'Wind (km/h)', data:[10,12,18,22,20], backgroundColor:'blue'}]
    }
  });

  new Chart(document.getElementById('humidityGreen'), {
    type: 'line',
    data: {
      labels: ['Mon','Tue','Wed','Thu','Fri'],
      datasets: [{label:'Humidity (%)', data:[45,40,35,32,30], borderColor:'green', fill:false}]
    }
  });

  new Chart(document.getElementById('rainfallGreen'), {
    type: 'bar',
    data: {
      labels: ['Mon','Tue','Wed','Thu','Fri'],
      datasets: [{label:'Rainfall (mm)', data:[5,3,2,1,0], backgroundColor:'lightblue'}]
    }
  });

  // Maps
  const redMap = L.map('redMap').setView([18.8, 99], 7);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(redMap);
  L.circle([18.8, 98.9], {radius:10000, color:'red'}).addTo(redMap).bindPopup("Chiang Mai: Critical Fire Risk");
  L.circle([19.2, 99.5], {radius:10000, color:'orange'}).addTo(redMap).bindPopup("Chiang Rai: High Fire Risk");

  const greenMap = L.map('greenMap').setView([18.8, 99], 7);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(greenMap);
  [
    {coords:[19.0,99.2], color:'limegreen', province:'Lampang', level:'B'},
    {coords:[18.7,98.9], color:'orange', province:'Lamphun', level:'D'},
    {coords:[18.9,99.4], color:'yellow', province:'Phayao', level:'C'}
  ].forEach(z => {
    L.circle(z.coords, {color:z.color, radius:9000}).addTo(greenMap).bindPopup(`${z.province}: Level ${z.level}`);
  });
</script>

</body>
</html>
